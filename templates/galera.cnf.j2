# {{ ansible_managed }}
[mysqld]
bind-address={{ openio_galera_bind_address }}
user={{ openio_galera_mysql_user }}
datadir={{ openio_galera_datadir }}
socket={{ openio_galera_socket }}
log-error={{ openio_galera_log_error }}
pid-file={{ openio_galera_pidfile }}

binlog_format={{ openio_galera_binlog_format }}
default_storage_engine={{ openio_galera_default_storage_engine }}
innodb_flush_log_at_trx_commit={{ openio_galera_innodb_flush_log_at_trx_commit }}
sync_binlog={{ openio_galera_sync_binlog }}
innodb_autoinc_lock_mode={{ openio_galera_innodb_autoinc_lock_mode }}

[galera]
wsrep_on=ON
wsrep_provider={{ openio_galera_wsrep_provider }}
wsrep_node_name={{ ansible_hostname }}
wsrep_node_address={{ openio_galera_bind_address }}
wsrep_cluster_name={{ openio_galera_cluster_name }}
wsrep_cluster_address={{ openio_galera_wsrep_cluster_address }}
wsrep_max_ws_rows={{ openio_galera_wsrep_max_ws_rows }}
wsrep_max_ws_size={{ openio_galera_wsrep_max_ws_size }}
wsrep_sst_method={{ openio_galera_wsrep_sst_method }}
wsrep_certify_nonPK={{ openio_galera_wsrep_certify_nonPK }}
wsrep_sst_auth={{ openio_galera_sst_user }}:{{ openio_galera_sst_password }}
